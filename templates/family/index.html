{% extends 'base.html' %}
{% load static %}
{% block content %}

    <button type="button" class="btn btn-success" data-bs-toggle="modal" data-bs-target="#staticBackdrop">
        Add child
    </button>

    <h1 class="title">Family</h1>

    <div class="container">
        {% if not context.queryset %}
            <h1>Nothing to show</h1>
        {% else %}
            <nav>
                <div class="nav nav-tabs" id="nav-tab" role="tablist">
                    {% for query in context.queryset %}
                        {% if forloop.first %}
                            <button class="nav-link active" id="nav-{{ query.name }}-tab" data-bs-toggle="tab"
                                    data-bs-target="#nav-{{ query.name }}"
                                    type="button" role="tab" aria-controls="nav-{{ query.name }}"
                                    aria-selected="true">{{ query.name }}
                            </button>
                        {% else %}
                            <button class="nav-link" id="nav-{{ query.name }}-tab" data-bs-toggle="tab"
                                    data-bs-target="#nav-{{ query.name }}"
                                    type="button" role="tab" aria-controls="nav-{{ query.name }}"
                                    aria-selected="true">{{ query.name }}
                            </button>
                        {% endif %}
                    {% endfor %}
                </div>
            </nav>

            <div class="tab_content">
            <div class="tab-content" id="nav-tabContent">
                {% for query in context.queryset %}
                    {% if forloop.first %}
                        <div class="tab-pane fade show active" id="nav-{{ query.name }}" role="tabpanel"
                             aria-labelledby="nav-{{ query.name }}-tab"
                             tabindex="0">
                            <p>Name: {{ query.name }}</p>
                            <p>Age: {{ query.age.0 }} {% if query.age.0 == 1 %}year{% else %}
                                years{% endif %} {{ query.age.1 }} {% if query.age.1 == 1 %}month{% else %}
                                months{% endif %} {{ query.age.2 }} {% if query.age.2 == 1 %}day{% else %}
                                days{% endif %}</p>
                        </div>
                    {% else %}
                        <div class="tab-pane fade" id="nav-{{ query.name }}" role="tabpanel"
                             aria-labelledby="nav-{{ query.name }}-tab"
                             tabindex="0">
                            <p>Name: {{ query.name }}</p>
                            <p>Age: {{ query.age.0 }} {% if query.age.0 == 1 %}year{% else %}
                                years{% endif %} {{ query.age.1 }} {% if query.age.1 == 1 %}month{% else %}
                                months{% endif %} {{ query.age.2 }} {% if query.age.2 == 1 %}day{% else %}
                                days{% endif %}</p>
                        </div>
                    {% endif %}
                {% endfor %}
            </div>
        {% endif %}
        </div>

        {% include 'family/services/modal.html' %}

    </div>

{% endblock %}